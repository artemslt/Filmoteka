!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire41ed;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire41ed=i),i.register("iE7OH",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("iE7OH").register(JSON.parse('{"jNRdE":"library.d34ffc9c.js","ee16w":"sprite.b4d5ffca.svg","ddf6F":"index.dd43f1c7.css","cSIeN":"index.4177e839.js"}'));var o=i("5DkEY"),a=i("9fz8o"),s=i("1ZLLT"),c=(o=i("5DkEY"),i("c10SZ")),l=i("fZtXX"),d=i("5QZZU");const{headerWatchedBtn:u,headerQueueBtn:f,mainList:g}=o.refs,E="button--accent",h=(p=document.body.clientWidth)>=1280?9:p<768?4:8;var p;let v=c.ANON_WATCHED;function A(e){c.localStorageAPI.load(c.STORAGE)?async function(e){const t=await async function(e){const t=function(e){return c.localStorageAPI.load(c.STORAGE)[v].filter(((t,n)=>{if(n>=h*(e-1)&&n<h*e)return t}))}(e);if(0===t.length)return null;const n=t.map((e=>(0,a.getMoviesDetails)(e)));try{const e=await Promise.all(n);return(0,s.default)(e)}catch(e){console.log(e.message)}}(e);if(t){g.innerHTML=t;const n=c.localStorageAPI.load(c.STORAGE)[v],r=Math.ceil(n.length/h);(0,l.createPagination)(e,r),document.querySelectorAll("[data-modal-open]").forEach((e=>e.addEventListener("click",d.onFilmCardClick)))}else L()}(e):L()}function L(){v!==c.ANON_WATCHED?v!==c.ANON_QUEUE||(g.innerHTML="Nothing in queue yet"):g.innerHTML="Nothing wathed yet"}A(1),u.addEventListener("click",(function(){u.classList.contains(E)||(u.classList.add(E),f.classList.remove(E)),v=c.ANON_WATCHED,A(1)})),f.addEventListener("click",(function(){f.classList.contains(E)||(f.classList.add(E),u.classList.remove(E)),v=c.ANON_QUEUE,A(1)})),i("2Te6C"),i("1Z2CF"),i("3xbLc");var b=i("fkmi9"),w=i("6bgo7");b=i("fkmi9");i("68yid"),(0,w.authObserver)([b.showAuthorisedFields],[b.showUnauthorisedFields]),A(1),o.refs.paginationBox.addEventListener("click",(e=>{e.target.dataset.page&&(window.scrollTo({top:0,left:0}),A(+e.target.dataset.page))}))}();
//# sourceMappingURL=library.d34ffc9c.js.map
