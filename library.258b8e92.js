!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire41ed;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire41ed=o),o.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("iE7OH").register(JSON.parse('{"jNRdE":"library.258b8e92.js","ee16w":"sprite.b4d5ffca.svg","ddf6F":"index.dd43f1c7.css","cSIeN":"index.5b42265f.js"}'));var a=o("5DkEY"),i=o("9fz8o"),l=o("1ZLLT"),c=(a=o("5DkEY"),o("c10SZ")),s=o("fZtXX"),d=o("5QZZU"),u=o("6fJbC"),f=o("6bgo7");const{headerWatchedBtn:g,headerQueueBtn:E,mainList:A,dataNotFoundEl:p,paginationBox:h}=a.refs,v="button--accent",S=(T=document.body.clientWidth)>=1280?9:T<768?4:8;var T;let L=c.ANON_WATCHED;function O(e=1){let t=u.localStorageAPI.load(c.STORAGE);f.auth.currentUser&&u.localStorageAPI.load(c.DB_STORAGE)&&(t=u.localStorageAPI.load(c.DB_STORAGE)),t?async function(e){const t=await async function(e){const t=function(e){return(f.auth.currentUser&&u.localStorageAPI.load(c.DB_STORAGE)?u.localStorageAPI.load(c.DB_STORAGE)[L]:u.localStorageAPI.load(c.STORAGE)[L]).filter(((t,n)=>{if(n>=S*(e-1)&&n<S*e)return t}))}(e);if(0===t.length)return null;const n=t.map((e=>(0,i.getMoviesDetails)(e)));try{const e=await Promise.all(n);return(0,l.default)(e)}catch(e){console.log(e.message)}}(e);if(t){p.innerHTML="",A.innerHTML=t;const n=u.localStorageAPI.load(c.STORAGE)[L],r=Math.ceil(n.length/S);(0,s.createPagination)(e,r),document.querySelectorAll("[data-modal-open]").forEach((e=>e.addEventListener("click",d.onFilmCardClick)))}else b()}(e):b()}function b(){A.innerHTML="",h.innerHTML="",L!==c.ANON_WATCHED?L!==c.ANON_QUEUE||(p.innerHTML='<p class="not-film-card">Nothing in queue yet</p>'):p.innerHTML='<p class="not-film-card">Nothing watched yet</p>'}g.addEventListener("click",(function(){g.classList.contains(v)||(g.classList.add(v),E.classList.remove(v)),L=c.ANON_WATCHED,O(1)})),E.addEventListener("click",(function(){E.classList.contains(v)||(E.classList.add(v),g.classList.remove(v)),L=c.ANON_QUEUE,O(1)})),o("2Te6C"),o("1Z2CF"),o("3xbLc");var H=o("fkmi9");f=o("6bgo7"),H=o("fkmi9");o("68yid"),(0,f.authObserver)([H.showAuthorisedFields,O],[H.showUnauthorisedFields,O]),a.refs.paginationBox.addEventListener("click",(e=>{e.target.dataset.page&&(window.scrollTo({top:0,left:0}),O(+e.target.dataset.page))}))}();
//# sourceMappingURL=library.258b8e92.js.map
